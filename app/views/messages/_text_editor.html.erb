<%= form_for text_message, remote: true, html: { class: "form-horizontal", id: "text_message-#{text_message.id}-editor" } do |f| %>
  <div class="m_editor-text-2 mrg20T m_editor-content">
    <div class="m_editor-content template-element">
      <input type="hidden" name="text_message[text_message_id]" class="template-id">
      <%= f.hidden_field :id %>
      <%= f.hidden_field :message_id %>
      <h5>テキスト</h5>
      <p class="text-danger invalid-field" style="font-size: 11px; display: none;">必須のフォーム項目は入力してください。</p>
      <div class="m_editor-text-textarea">
        <div class="m_editor-textarea">
          <%= f.text_area :content, class: "m_text-message-content" %>
        </div>
        <div class="m_editor-textarea-emoji">
          <div>
            <img src="https://cdn3.iconfinder.com/data/icons/3d-printing-icon-set/512/Engineer.png" />
            <%= f.select :chatbot_emotion_id, options_from_collection_for_select(ChatbotEmotion.all, "id", "emotion", text_message.chatbot_emotion_id), {}, { class: "form-control" } %>
          </div>
        </div>
        <div style="clear: both"></div>
      </div>
    </div>

    <div class="m_text-save">
      <div class="row mrg5B">
        <button type="submit" class="btn btn-primary btn-blue-3" onclick="return checkValidField(this, '.m_editor-text-2', '#text_message_content'); $('#spinner').show();"><i class="fa fa-pencil-square-o fa-2" aria-hidden="true"></i> 保存</button>
      </div>
      <div class="row">
        <a onclick="<%= text_message.new_record? ? 'remove_card(this)' : 'show_card_review(this)' %>" class="btn btn-default btn-white-3">キャンセル</a>
      </div>
    </div>

    <div style="clear: both"></div>
  </div>
<% end %>
